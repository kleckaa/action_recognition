\documentclass[11pt]{article}
%\usepackage[style=numeric,giveninits=true]{biblatex}
\usepackage[backend=bibtex]{biblatex}
\bibliography{biblio.bib}
\usepackage[utf8]{inputenc}
\usepackage{indentfirst}
\usepackage{amsmath}
\usepackage{graphicx}
\usepackage{wrapfig}
\usepackage[czech]{babel}
\usepackage{amsbsy}
\usepackage{enumitem}
\usepackage[thinlines]{easytable}
\usepackage{subcaption}
\usepackage{epsfig}
\usepackage{gensymb}
\usepackage{makecell}
\setlength{\hoffset}{-1.8cm} 
\setlength{\voffset}{-2cm}
\setlength{\textheight}{24.0cm} 
\setlength{\textwidth}{17cm}
\usepackage[dvipsnames]{xcolor}
\usepackage{colortbl,booktabs}

\hyphenation{bootloaderu}
\hyphenation{ATmega}

\usepackage{array}




\newcolumntype{L}[1]{>{\raggedright\let\newline\\\arraybackslash\hspace{0pt}}m{#1}}
\newcolumntype{C}[1]{>{\centering\let\newline\\\arraybackslash\hspace{0pt}}m{#1}}
\newcolumntype{R}[1]{>{\raggedleft\let\newline\\\arraybackslash\hspace{0pt}}m{#1}}
\renewcommand\theadalign{bc}
\renewcommand\theadfont{\bfseries}
\renewcommand\theadgape{\Gape[4pt]}
\renewcommand\cellgape{\Gape[4pt]}




\begin{document}

\section{Trenovani}
\begin{table}[hbpt!]
\begin{tabular}{|l|l|l|l|l||l|l|l|}
\hline
\textbf{Pokus} & \makecell{\textbf{Optimizer} \\ \textbf{Sheduler}} & \textbf{lr} & \textbf{nastavení}  & \makecell{\textbf{Top1$[\%]$} \\ (val)} &  \makecell{\textbf{Top1$[\%]$} \\ (test)} & \makecell{\textbf{Top3$[\%]$} \\ (test)} & \makecell{\textbf{Top5$[\%]$} \\ (test)}  \\ \hline
1. & \makecell{SGD \\ multisteps}  & $0.01$ & \makecell{step$=[10, 25, 40,$\\$ 50, 60, 70,$\\$ 80, 90, 100]$} &  & $33.667$ & $54.133$ & $62.867$  \\ \hline
2.     & \makecell{SGD \\ multisteps} & $0.01$  & \makecell{step$= [15, 30, 60,$\\$ 90, 110]$} &  & $50.333$ & $72.034$ & $77.800$ \\ \hline
3.     & \makecell{SGD \\ multisteps} & $ 0.01$ &  \makecell{step$= [15, 20, 40,$\\$ 80, 110]$} & &  $54.600$ & $76.067$ & $71.733$ \\ \hline
4.     & \makecell{SGD \\step} & $ 0.01$ &  \makecell{step$= 15 $} & & $59.467$ & $ 78.867$ & $84.600$ \\ \hline
5. & \makecell{SGD \\ cosine} & $0.01$ & \makecell{eta$\_$min=0} & & $56.000$ & $74.333$ & $80.266$ \\ \hline
6.1 & \makecell{SGD \\ cyclic} & $10^{-6}$ & \makecell{max$\_$lr$=0.015$} & 71.4 & $67.800$ & $ 86.467$ & $90.000$\\ \hline
6.2 & \makecell{SGD \\ cyclic} & $10^{-8}$ & \makecell{max$\_$lr$=0.01$} & $75.2$ & $69.00$ & $ 86.133$ & $90.666$\\ \hline
6.3 & \makecell{SGD \\ cyclic} & $10^{-8}$ & \makecell{max$\_$lr$=0.001$} & $71.2$ & $67.066$ & $ 87.6 $ & $91.600$\\ \hline
6.4 & \makecell{SGD \\ cyclic} & $10^{-8}$ & \makecell{max$\_$lr$=0.003$} & $72.0$ & $68.466$ & $ 85.466 $ & $ 89.933$\\ \hline
6.5 &\makecell{SGD \\ cyclic} & $10^{-8}$ & \makecell{max$\_$lr$=0.005$} & $72.2$ & $69.266$ & $ 84.800 $ & $ 88.800$\\ \hline
6.1.1 &\makecell{SGD \\ cyclic} & $10^{-8}$ & \makecell{max$\_$lr$=0.02$} & $73.2$ & $69.333$ & $ 87.266 $ & $ 91.4$\\ \hline
6.1.7 &\makecell{SGD \\ cyclic} & $10^{-8}$ & \makecell{max$\_$lr$=0.005$} & $73.2$ & \cellcolor{orange}$70.266$ & \cellcolor{orange}$ 88.00 $ & \cellcolor{orange}$  91.933$\\ \hline

7. & \makecell{SGD \\ plateau} & $0.01$ & \makecell{mode$=$min}  & & $54.0$ & $72.733$ & $79.866$ \\ \hline
8. & \makecell{SGD \\ restart} & $0.01$ & \makecell{T$\_0=10$, \\ T$\_$mult$=1$, \\eta$\_$min$=10^{-6}$} & & $51.4$ & $70.866$ & $77.666$ \\ \hline
\end{tabular}
    \caption{Trénování I3D ResNet50 na rgb datech}
    \label{tab:i3d_rgb}
\end{table}


\newpage

\subsection{Experimenty s segmentačním modelem I3D Resnet}
\begin{table}[hbpt!]
\begin{tabular}{|l|l|l|l|l||l|l|l|}
\hline
\textbf{Pokus} &\makecell{\textbf{Optimizer} \\ \textbf{Sheduler}} & \textbf{lr} & \textbf{nastavení} & \makecell{\textbf{Top1 $[\%]$} \\ (val)}  &  \makecell{\textbf{Top1 $[\%]$}\\(test)} & \makecell{\textbf{Top3 $[\%]$}\\(test)} & \makecell{\textbf{Top5 $[\%]$}\\(test)}  \\ \hline
1. & \makecell{SGD \\ multisteps }& $0.01$ & \makecell{step$= [15, 30, 60,$\\$ 90, 110]$} &  & $28.800$ & $46.867$ & $53.667$  \\ \hline
2. & \makecell{ SGD \\ multisteps }& $0.01$  & \makecell{step$= [10,25,50,$\\$90,110]$} &   &$28.667$ & $46.600$ & $53.333$ \\ \hline
3.     & \makecell{SGD \\ step} & $ 0.01$ & \makecell{step$= 20$} &  & $28.000$ & $44.933$ & $52.733$ \\ \hline
4.     & \makecell{SGD \\ multisteps} & $ 0.01$ &  \makecell{step$=  [17, 33, 66,$\\$90, 110]$} &  & $30.933$ & $  47.800$ & $56.533$ \\ \hline
5. & \makecell{SGD \\ cosine} & $0.01$ & \makecell{eta$\_$min=0} & & $38.867$ &  $54.667$ & $62.467$ \\ \hline
5.1. & \makecell{SGD \\ cosine} & $0.005$ & \makecell{eta$\_$min=0} & $41.4$ &  \cellcolor{orange}$39.733$ & \cellcolor{orange} $55.267$ & \cellcolor{orange}$62.467$ \\ \hline
5.2. & \makecell{SGD \\ cosine} & $0.01$ & \makecell{eta$\_$min=0} & $37$ &  $34.733$ &  $51.067$ & $58.000$ \\ \hline
5.3. & \makecell{SGD \\ cosine} & $0.02$ & \makecell{eta$\_$min=0} & $31.8$ &  $30.800$ &  $47.200$ & $55.933$ \\ \hline
5.4. & \makecell{SGD \\ cosine} & $0.03$ & \makecell{eta$\_$min=0} & $25.8$ &  $27.733$ &  $45.133$ & $52.600$ \\ \hline
6.5 & \makecell{SGD \\ cyclic} & $10^{-8}$ & \makecell{max$\_$lr$=0.02$} & $37.0$ & $35.267$ & $ 53.200$ &  $61.933$\\ \hline
6.6 & \makecell{SGD \\ cyclic} & $10^{-8}$ & \makecell{max$\_$lr$=0.03$} & $33.2$ & $35.733$ & $ 50.800$ &  $57.467$\\ \hline
6.9 & \makecell{SGD \\ cyclic} & $0$ & \makecell{max$\_$lr$=0.01$} & $34.6$ & $37.600$ & $ 52.400$ &  $59.600$\\ \hline
6.10 & \makecell{SGD \\ cyclic} & $0$ & \makecell{max$\_$lr$=0.008$} & $34.133$ & $50.733$ & $ 59.933$ &  $59.600$\\ \hline
6.11 & \makecell{SGD \\ cyclic} & $0$ & \makecell{max$\_$lr$=0.013$} & $37.8$ & $35.400$ & $ 53.800$ &  $61.333$\\ \hline
7. & \makecell{SGD \\ plateau} & $0.01$ & \makecell{mode$=$min} &  & $35.933$ & $52.267$ & $60.533$ \\ \hline
8. & \makecell{SGD \\ restart} & $0.01$ & \makecell{T$\_0=10$, \\ T$\_$mult$=1$, \\eta$\_$min$=10^{-6}$} &  & $36.067$ & $53.800$ & $62.067$ \\ \hline
\end{tabular}
\end{table}



Použití: mean $= [0.131, 0.084, 0.012] $, std $= [0.294, 0.192, 0.031]$
\begin{table}[hbpt!]
\begin{tabular}{|l|l|l|l|l|l|}
\hline
\textbf{Pokus}  & \textbf{Optimizer} & \textbf{sheduler} &  \textbf{Top1 $[\%]$} & \textbf{Top3 $[\%]$} & \textbf{Top5 $[\%]$}  \\ \hline
1. & SGD & cosine & $37.267$ & $51.933$ & $59.533$\\ \hline
2. & SGD & cyclic & $35.533$ & $52.467$ & $59.867$\\ \hline
3. & SGD & plateau & $32.933$ & $49.866$ & $57.667$\\ \hline
\end{tabular}
\end{table}

\newpage
\subsection{Experimenty s modelem optického toku I3D Resnet}
\begin{table}[hbpt!]
\begin{tabular}{|l|l|l|l|l||l|l|l|}
\hline
\textbf{Pokus}  & \makecell{ \textbf{Optimizer} \\ \textbf{sheduler}} & \textbf{lr} & \textbf{nastavení} & \makecell{\textbf{Top1 $[\%]$} \\ (val)} & \makecell{ \textbf{Top1 $[\%]$}\\ (test) } & \makecell{\textbf{Top3 $[\%]$}\\ (test)} & \makecell{\textbf{Top5 $[\%]$} \\ (test)}  \\ \hline
1. & \makecell{SGD \\ multisteps} & $0.01$ & \makecell{step$= [15, 30, 60,$\\$90, 110]$} &  & $11.533$ & $22.800$ & $30.267$  \\ \hline
2.   & \makecell{SGD \\ multisteps }& $0.01$  & \makecell{ step$= [17, 35, 55, 70,$\\ $100, 115, 130]$} &  & $20.466$ & $33.800$ & $ 42.933$ \\ \hline
3.     & \makecell{SGD \\step} & $ 0.01$ &  \makecell{step$= 20$} & & $23.066$ & $39.800$ & $47.333$ \\ \hline
4. & \makecell{SGD \\ cosine} & $0.01$ & \makecell{eta$\_$min=0} & & $29.2$ & $45.800$ & $53.800$ \\ \hline
5. & \makecell{SGD \\ cyclic} & $10^{-8}$ & \makecell{ max$\_$lr$=0.1$,\\ mode='exp$\_$range'} & & $33.067$ & $49.067$ &  $56.067$\\ \hline
6. & \makecell{SGD \\ cyclic} & $10^{-6}$ &\makecell{ max$\_$lr$=0.015$} & & $35.333$ & $52.333$ &  $59.867$\\ \hline
6.1. & \makecell{SGD \\ cyclic} & $10^{-8}$ &\makecell{ max$\_$lr$=0.02$} & $35.8$ & $34.4$ &$51.267$ &$58.400$\\ \hline
6.2. & \makecell{SGD \\ cyclic} & $10^{-8}$ &\makecell{ max$\_$lr$=0.03$} & $36.0$ & $33.6$ & $49.733$ &  $59.267$\\ \hline
6.3. & \makecell{SGD \\ cyclic} & $10^{-8}$ &\makecell{ max$\_$lr$=0.04$} & $34.4$ & $33.533$ & $51.00$ &  $60.533$\\ \hline
6.4. & \makecell{SGD \\ cyclic} & $10^{-8}$ &\makecell{ max$\_$lr$=0.008$} & $36.2$ & $34.800$ &$52.933$ &  $59.533$\\ \hline
6.6. & \makecell{SGD \\ cyclic} & $0$ &\makecell{ max$\_$lr$=0.018$} & $37.0$ & $34.800$ & $51.067$ &  $57.667$\\ \hline
6.7. & \makecell{SGD \\ cyclic} & $0$ &\makecell{ max$\_$lr$=0.01$} & $37.0$ & \cellcolor{orange}$36.067$ &\cellcolor{orange} $54.333$ &\cellcolor{orange}  $61.400$\\ \hline
6.8. & \makecell{SGD \\ cyclic} & $0$ &\makecell{ max$\_$lr$=0.005$} & $36.8$ & $34.00$ & $52.800$ &  $59.667$\\ \hline
6.9. & \makecell{SGD \\ cyclic} & $0$ &\makecell{ max$\_$lr$=0.013$} & $33.6$ & $34.533$ & $52.933$ &  $60.667$\\ \hline
7. & \makecell{SGD \\ plateau} & $0.01$ & \makecell{mode$=$min}  &  & $26.200$ & $43.067$ & $50.200$ \\ \hline
8. & \makecell{SGD \\ restart} & $0.01$ & \makecell{T$\_0=10$, \\ T$\_$mult$=1$, \\eta$\_$min$=10^{-6}$} &  &$30.733$ & $46.867$ & $54.400$ \\ \hline
9. & \makecell{SGD \\ restart} & $0.01$ & \makecell{T$\_0=20$, \\ T$\_$mult$=1$, \\eta$\_$min$=10^{-8}$} & &$31.733$ & $47.867$ & $54.667$ \\ \hline
\end{tabular}
\end{table}




\newpage

Nejlepší výsledky:
\begin{table}[hbpt!]
\begin{tabular}{|l|l||l|l|l|c|c|c|}
\hline
\textbf{Data}  & Top1 $[\%]$ & Top3 $[\%]$ & Top5 $[\%]$\\ \hline
RGB data & 70.267 & 88.000 & 91.933 \\ \hline
Segmentační data & 39.733 & 55.267 & 62.467 \\ \hline
Data s optickým tokem & 36.066 & 54.333 & 61.400  \\ \hline
\end{tabular}
    \caption{Tabulka nejlepších výsledků}
    \label{tab:top_tab}
\end{table}

\begin{figure}[h!]
\minipage{0.5\textwidth}
\centering
\includegraphics[width = 1\textwidth]{images/loss_rgb}
\caption{Průběh loss funkce při trénování - rgb data, cyclic}
\endminipage
\minipage{0.5\textwidth}
\centering
\includegraphics[width = 1\textwidth]{images/top1_rgb}
\caption{Průběh Top1 hodnoty při trénování - rgb data, cyclic}
\endminipage
\end{figure}


\begin{figure}[h!]
\minipage{0.5\textwidth}
\centering
\includegraphics[width = 1\textwidth]{images/loss_sgm}
\caption{Průběh loss funkce při trénování - segmentační data, cosine}
\endminipage
\minipage{0.5\textwidth}
\centering
\includegraphics[width = 1\textwidth]{images/top1_sgm}
\caption{Průběh Top1 hodnoty při trénování - segmentační data, cosine}
\endminipage
\end{figure}

\begin{figure}[h!]
\minipage{0.5\textwidth}
\centering
\includegraphics[width = 1\textwidth]{images/loss_of}
\caption{Průběh loss funkce při trénování - data optického toku, cyclic}
\endminipage
\minipage{0.5\textwidth}
\centering
\includegraphics[width = 1\textwidth]{images/top1_of}
\caption{Průběh Top1 hodnoty při trénování - data optického toku, cyclic}
\endminipage
\end{figure}


\newpage


\begin{align}
X = \alpha X_{rgb} \cdot \beta X_{segmentace} \cdot \gamma X_{opticky\_tok}
\end{align}

\begin{table}[hbpt!]
\begin{tabular}{|l|l|l|l|l|l|l|l|}
\hline
$\alpha$ & $\beta$ & $\gamma$ & Top1 $[\%]$ & Top3 $[\%]$ & Top5 $[\%]$\\ \hline
1.0 & 1.0 & 1.0  & 69.267 & 84.200 & 89.400 \\ \hline
1.0 & 0 & 1.0  & 68.867 & 84.533 & 89.933 \\ \hline
1.0 & 1.0 & 0  & 69.000 & 84.933 & 90.333 \\ \hline
0 & 1.0 & 1.0  & 46.200 & 62.400 & 69.333 \\ \hline
\end{tabular}
    \caption{Tabulka přesnosti rozpoznávání pro různé parametry $\alpha, \beta \gamma$}
    \label{tab:top_tab2}
\end{table}

Nejlepší nastavení:
\begin{itemize}
\item $\alpha = 0.79 $
\item $\beta = 0.38$
\item $\gamma = 0.25$
\item Top1 $= 73.733$
\item Top3 $= 86.133$
\item top5 $= 90.667$ 
\end{itemize}

\newpage

\printbibliography
\end{document}